---
// see https://github.com/HiDeoo/starlight-blog/blob/main/packages/starlight-blog/components/Metadata.astro
import type { CollectionEntry } from "astro:content";
import { LinkCard } from "@astrojs/starlight/components";
interface Props {
  entry: CollectionEntry<"docs">;
}
const { entry } = Astro.props;

// const { remarkPluginFrontmatter } = await page.render();
// const data = remarkPluginFrontmatter;
const data = entry.data;

let description = "";
if (data.tags) {
  description += `Tags: ${data.tags?.join(", ")}`;
}
if (data.lastUpdated) {
  description += ` | Updated: ${data.lastUpdated}`;
}

const url = `/${entry.slug === "index" ? "" : entry.slug}`;
---

<LinkCard title={entry.data.title} description={description} href={url} />
