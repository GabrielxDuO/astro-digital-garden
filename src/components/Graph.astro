---
import { renderer, DEFAULTS } from "./graphRenderer";

export interface Props {
  graph: any;
}

const { graph } = Astro.props;

// probably need to use cache here
const result = renderer(graph, {
  ...DEFAULTS,
  width: 1000,
  height: 800,
});
---

<script>
  // @ts-nocheck
  // because can't resolve this error
  // Type '{ children: Element; class: string; }' is not assignable to type 'DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>'.
  // Property 'class' does not exist on type 'DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>'. Did you mean 'className'?
</script>

<div class="graphology">
  <Fragment set:html={result} />
</div>
